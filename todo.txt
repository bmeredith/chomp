dev TODO:

TODO:

HANDLE CASE WHERE BOTH PLAYERS NEED TO MAKE A VALID SWITCH (e.g. poison kills A, and then move kills B)

flow:

- run move0
- check for KO
- if so:
    - run end of round effects for other player
    - check for new KO for other mon
    - if so:
        - set dual flag, return
    - otherwise:
        - set single flag, return

- otherwise:

- run move1
- check for KO
- if so:
    - run end of round effects for other player
    - check for KO for other mon
    - if so:
        - set dual flag, return
    - otherwise:
        - set single flag, return

- otherwise

- both moves did not lead to KO
- run effects for priority player
    - check for KO
    - if so:
        - set flag
        - run effects for non priority player
        - check for KO
            - if so:
                - set dual flag


- add test to ensure that unauthorized writes do not succeed [x]
    - think a little bit more about the security aspects
- add ability to add effects and remove effects [x]
- add ability to write to global kv
- add return values to moves so they can initiate a switch if needed
    - need to specify which mon index to switch to, and whether or not there is a switch
- add on-switch as trigger for effects, dovetail into abilities

Negative Status Effects:

(Auto cure)
- Sleep, cannot take action, 50% chance of cure every turn, max 3 turns
- Fright, takes 1 stamina damage every turn, 50% chance of cure every turn, max 3 turns
- Disabled, cannot switch out, 50% chance of cure every turn, max 3 turns

(No cure)
- Frostbite, takes 1/16 damage every turn, reduces special attack by 50%
- Burn, takes 1/16 damage every turn, reduces attack by 50%
- Poison, takes 1/8 damage every turn
- Shock, reduces speed by 50%, 25% chance cannot move

---------------------------------------------------------------------------------------------
- the switch return (each move can at most switch one mon, either the opponent's mon, or the user's mon) will be handled by the engine
- add a new on-switch-in hook to handle both the ability, as well as global effects which run on switch in (specific mon effects can or cannot run on switch in? i guess can have both, no real difference)

- add ability interface (adds on switch in handler--should this just be the case for all events?)]

Feature thinking:

- make/take model for starting matches (e.g. p1 starts a challenge, p2 can accept)
    - let users specify if they want to be filled against anyone or a specific person

- add held items to monData
    - static and triggered

- add abilities to monData
    - static and triggered

- to think about move implementations:
    - tricky moves to use as examples for edge cases:
        - parting shot
        - destiny bond
        - substitute
        - volt switch
        - barrier/frost veil

    - categorizing move types
        - normal damaging moves (trade-off between accuracy and damage)
        - normal damaging move + % to inflict additional effect (status, stat boost, stamina, etc.)
        - stat boost (2 stages to any one stat) / (1 stage to two stats)
        - healing (reduced healing over time)
        - environmental (hazards/weather/etc.)